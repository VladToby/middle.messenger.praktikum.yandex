@import '../../utils.less';

#app {
  height: 100vh !important;
  width: 100vw !important;

  .chat {
    &.wrapper {
      display: flex;
      width: 100%;
      height: 100%;
    }

    .sidebar {
      flex: 1;

      .list {
        display: flex;
        flex-direction: column;
        width: 100%;
        height: 100%;

        .list-header {
          display: flex;
          flex-direction: column;
          height: 5rem;
          border-right: 1px solid @secondary__background-color;
          border-bottom: 1px solid @secondary__background-color;

          .section {
            &.buttons {
              display: flex;
              flex-direction: row;
              justify-content: space-between;
              align-items: center;

              .create-new-chat {
                margin: 0;

                .new-chat {
                  .button(@margin: 0, @background: none, @border: none, @width: auto);

                  &:hover {
                    .custom-button-hover();
                  }
                }
              }

              .profile {
                align-self: flex-end;
                padding: 0.25rem 0.1rem;

                .profile-button {
                  .button(@background: none, @width: 100%, @margin: 0);

                  &:hover {
                    background: none !important;
                    color: @main__button-background-hover;

                    &:after {
                      color: @main__button-background-hover;
                    }
                  }

                  &:after {
                    font-family: @icon-font;
                    content: @icon__angle-right;
                    color: @main__font-color;
                    vertical-align: middle;
                    font-size: 12px;
                    margin-left: 0.25rem;
                  }
                }

                &:hover, &:active, &:focus-visible {
                  background: none !important;
                  color: @main__button-background-hover !important;
                }
              }
            }
          }

        }

        .chat-list {
          overflow-y: scroll;
        }

        .item {
          display: flex;
          flex-direction: column;
          justify-content: center;
          padding-top: 0 !important;
          padding-bottom: 0 !important;
          padding-inline: 1rem .75rem;
          border-bottom: 1px solid @secondary__background-color;
          min-height: 4.5rem;
          padding-inline-start: 4.5rem !important;
          text-decoration: none;
          color: @main__font-color;
          position: relative;

          .avatar {
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            inset-inline-start: .5625rem !important;
            width: 3.375rem !important;
            height: 3.375rem !important;

            .default-avatar {
              position: absolute;
              font-size: 25px;
            }

            &:before {
              content: '';
              color: @main__font-color;
              font-size: 24px;
            }

            &:after {
              content: '';
              border: 30px solid @secondary__background-color;
              border-radius: 100%;
            }
          }

          .dialog {
            display: flex;
            justify-content: space-between;
            align-items: center;

            &.title {
              height: 1.375rem;
              font-weight: bold;
            }

            &.subtitle {
              height: 1.375rem;
              margin-top: .125rem;
              color: @secondary__font-color;

              .unread-count {
                display: inline-flex;
                align-items: center;
                justify-content: center;
                min-width: 20px;
                height: 20px;
                background-color: @secondary__font-color;  /* Вы можете изменить цвет на любой подходящий вашему дизайну */
                color: white;
                border-radius: 10px;  /* Это создаст круглую форму */
                font-size: 12px;
                font-weight: bold;
              }
            }
          }
        }
      }
    }

    .messenger {
      flex: 2;
      display: flex;
      align-items: center;
      background: @secondary__background-color;
    }

    .create-chat-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      justify-content: center;
      align-items: center;
      z-index: 1000;

      &.is-open {
        display: flex;
      }

      .modal-content {
        background-color: white;
        padding: 20px;
        border-radius: 5px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .create-chat-form {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      .close-modal {
        margin-top: 10px;
      }
    }
  }
}
